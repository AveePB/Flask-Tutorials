<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Streaming</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div id="videoTableContainer">
        <h1>Available Videos</h1>
        <table id="videoTable">
            <thead>
                <tr>
                    <th>MP4 Name</th>
                    <th>Watch Button</th>
                </tr>
            </thead>
            <tbody>
                {% for short_name in short_names %}
                <tr>
                    <td class="videoName">{{ short_name }}</td>
                    <td>
                        <button class="watchBtn" onclick="watch('{{ short_name }}')">Watch</button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div id="videoPlayerContainer">
        <h2>Selected Video:</h2>
        <video id="videoPlayer" width="640" height="360" controls>
            <source src="" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    
    <script>
        function watch(shortName) {
            const videoPlayer = document.getElementById('videoPlayer');
            const videoSrc = `/stream/${shortName}`;  
            videoPlayer.src = videoSrc;
            
            videoPlayer.load();
            videoPlayer.play();
        }
    </script>
</body>
</html>
